"use strict";var screenOperation=document.getElementById("screen-operation"),screenResult=document.getElementById("screen-result"),buttons=document.getElementById("buttons"),operationComplete=!1;buttons.addEventListener("click",function(e){if(""!==e.target.textContent)switch(e.target.textContent){case"=":writeResult();break;case"C":resetScreen();break;case"+/-":changeSign();break;case",":writeOperation(".");break;default:writeOperation(e.target.textContent)}});var lastValue=function(){return screenOperation.textContent.substring(screenOperation.textContent.length-1)},writeOperation=function(e){"0"==screenOperation.textContent&&"."!==e&&(screenOperation.textContent=""),operationComplete&&isNaN(e)&&(screenOperation.textContent=screenResult.textContent,operationComplete=!1),operationComplete&&!isNaN(e)&&(screenOperation.textContent="",screenResult.textContent="0",operationComplete=!1),isNaN(lastValue())&&isNaN(e)?screenOperation.textContent=screenOperation.textContent.substring(0,screenOperation.textContent.length-1):screenOperation.textContent.length<24&&(screenOperation.textContent+=e)},writeResult=function writeResult(){isNaN(lastValue())&&")"!==lastValue()&&(screenOperation.textContent=screenOperation.textContent.substring(0,screenOperation.textContent.length-1)),screenResult.textContent=eval(screenOperation.textContent),operationComplete=!0,9<screenResult.textContent.length&&(screenResult.style.marginTop="1em",screenResult.style.fontSize="2em")},changeSign=function(){var e,t=0;if(!isNaN(lastValue()))for(var n=screenOperation.textContent.length-1;0<n;n--)if(isNaN(screenOperation.textContent[n])){t=n+1;break}e=screenOperation.textContent.substring(t),screenOperation.textContent=screenOperation.textContent.replace(e,"(".concat(-1*e,")"))},resetScreen=function(){screenOperation.textContent="0",screenResult.textContent="0"};